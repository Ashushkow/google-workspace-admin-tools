# Модульная структура проекта Admin Team Tools

После рефакторинга проект разделен на следующие модули:

## Основные модули

### 1. `main.py` - Точка входа
- Минимальный файл для запуска приложения
- Обрабатывает ошибки импортов и авторизации
- Размер: ~40 строк (было: 1078 строк)

### 2. `auth.py` - Авторизация Google API
- Функция `get_service()` для получения авторизованного сервиса
- Обработка токенов и аутентификации
- Константы для Google API

### 3. `config.py` - Конфигурация
- Настройки и константы приложения
- Загрузка настроек из `settings.json`
- Scopes для Google API

### 4. `main_window.py` - Основное окно
- Класс `AdminToolsMainWindow` - главное окно приложения
- Интерфейс управления пользователями
- Логика фильтрации и отображения данных

### 5. `users_api.py` - API пользователей
- Функции для работы с пользователями Google Workspace:
  - `user_exists()` - проверка существования
  - `create_user()` - создание пользователя
  - `get_user_list()` - получение списка пользователей
  - `list_users()` - постраничная загрузка
  - `update_user()` - обновление данных

### 6. `groups_api.py` - API групп
- Функции для работы с группами:
  - `list_groups()` - получение списка групп
  - `add_user_to_group()` - добавление в группу
  - Управление участниками групп

### 7. `user_windows.py` - Окна пользователей
- `CreateUserWindow` - создание пользователя
- `EditUserWindow` - редактирование пользователя
- `ChangePasswordWindow` - смена пароля
- `MassCreateUsersWindow` - массовое создание

### 8. `additional_windows.py` - Дополнительные окна
- `AsanaInviteWindow` - приглашения в Asana
- `AddToGroupWindow` - добавление в группы
- `ErrorLogWindow` - окно журнала ошибок

### 9. `simple_utils.py` - Утилиты
- `center_window()` - центрирование окон
- Вспомогательные функции
- Обработка ошибок

## Вспомогательные модули

### 10. `ui_components.py` - UI компоненты
- `ModernColors` - цветовая схема
- `ModernButton` - стилизованные кнопки
- `StatusIndicator` - индикатор статуса

### 11. `data_cache.py` - Кэширование данных
- Кэш пользователей и групп
- Оптимизация API запросов

### 12. `employee_list_window.py` - Окно списка сотрудников
- Расширенное окно со списком пользователей
- Фильтрация и сортировка

### 13. `group_management.py` - Управление группами
- Окно управления группами
- Создание и настройка групп

## Преимущества новой структуры

1. **Читаемость**: Каждый модуль отвечает за определенную функциональность
2. **Поддерживаемость**: Легче вносить изменения в отдельные части
3. **Тестируемость**: Можно тестировать модули по отдельности
4. **Повторное использование**: Функции можно импортировать в других проектах
5. **Производительность**: Загружаются только нужные модули

## Структура файлов

```
Project/
├── main.py                    # Точка входа (40 строк)
├── auth.py                    # Авторизация
├── config.py                  # Конфигурация
├── main_window.py             # Основное окно
├── users_api.py               # API пользователей
├── groups_api.py              # API групп
├── user_windows.py            # Окна пользователей
├── additional_windows.py      # Дополнительные окна
├── simple_utils.py            # Утилиты
├── ui_components.py           # UI компоненты
├── data_cache.py              # Кэширование
├── employee_list_window.py    # Окно сотрудников
├── group_management.py        # Управление группами
└── main_old_backup.py         # Резервная копия старого main.py
```

## Запуск приложения

Теперь для запуска используется новый упрощенный `main.py`:

```bash
python main.py
```

Приложение автоматически загрузит все необходимые модули и откроет главное окно.
