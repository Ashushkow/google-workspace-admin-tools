# ‚úÖ –û–¢–ß–ï–¢ –û –†–ï–®–ï–ù–ò–ò –ü–†–û–ë–õ–ï–ú - Admin Team Tools v2.0.7

## üìã –†–µ—à–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### 1. ‚ùå –û—à–∏–±–∫–∞ 403 "Insufficient Permission" –ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ –¥–æ–º–µ–Ω–æ–≤
**–ü—Ä–æ–±–ª–µ–º–∞:** `HttpError 403 when requesting https://admin.googleapis.com/admin/directory/v1/customer/my_customer/domains`

**–ü—Ä–∏—á–∏–Ω–∞:** –í OAuth 2.0 scopes –æ—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª scope –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥–æ–º–µ–Ω–∞–º–∏ Google Workspace.

**–†–µ—à–µ–Ω–∏–µ:**
- –î–æ–±–∞–≤–ª–µ–Ω scope `https://www.googleapis.com/auth/admin.directory.domain.readonly` –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
- –§–∞–π–ª: `src/config/enhanced_config.py`, —Å—Ç—Ä–æ–∫–∏ 102-107
- –£–¥–∞–ª–µ–Ω —Å—Ç–∞—Ä—ã–π —Ç–æ–∫–µ–Ω `token.pickle` –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ —Å –Ω–æ–≤—ã–º–∏ –ø—Ä–∞–≤–∞–º–∏

### 2. ‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∑–∞–≥—Ä—É–∂–∞–µ—Ç –∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –≤—Å–µ—Ö 176 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π Google Workspace, –≤–∫–ª—é—á–∞—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è `kirill.kropochev@sputnik8.com` –Ω–∞ –ø–æ–∑–∏—Ü–∏–∏ 100.

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:
1. **`src/config/enhanced_config.py`**
   - –î–æ–±–∞–≤–ª–µ–Ω scope `admin.directory.domain.readonly`
   - –û–±–Ω–æ–≤–ª–µ–Ω —Å–ø–∏—Å–æ–∫ scopes –≤ –∫–ª–∞—Å—Å–µ `GoogleAPIConfig`

### –£–¥–∞–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:
1. **`token.pickle`**
   - –£–¥–∞–ª–µ–Ω –¥–ª—è –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–π –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ —Å –Ω–æ–≤—ã–º–∏ scopes

## üß™ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### ‚úÖ –§–∏–Ω–∞–ª—å–Ω—ã–π —Ç–µ—Å—Ç –ø–æ–∫–∞–∑–∞–ª:
- **–ó–∞–≥—Ä—É–∂–µ–Ω–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:** 176 (–≤—Å–µ)
- **–î–æ—Å—Ç—É–ø –∫ –¥–æ–º–µ–Ω–∞–º:** ‚úÖ —Ä–∞–±–æ—Ç–∞–µ—Ç
- **–î–æ–º–µ–Ω:** sputnik8.com (–≤–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω)
- **OAuth scopes:** 5 scopes, –≤–∫–ª—é—á–∞—è domain.readonly
- **–û—à–∏–±–∫–∞ 403:** ‚ùå —É—Å—Ç—Ä–∞–Ω–µ–Ω–∞
- **–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:** ‚úÖ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è (–ø–æ email)
- **–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–æ–Ω–Ω—ã–µ –µ–¥–∏–Ω–∏—Ü—ã:** ‚úÖ –¥–æ—Å—Ç—É–ø–Ω—ã (9 –µ–¥–∏–Ω–∏—Ü)

### üéØ –ü—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:
1. ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Google Admin SDK
2. ‚úÖ –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –¥–æ–º–µ–Ω–æ–≤
3. ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π
4. ‚úÖ –î–æ—Å—Ç—É–ø –∫ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–æ–Ω–Ω—ã–º –µ–¥–∏–Ω–∏—Ü–∞–º
5. ‚úÖ –ü–æ–∏—Å–∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (kirill.kropochev@sputnik8.com)

## üìä OAuth 2.0 Scopes (—Ñ–∏–Ω–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è)

```
1. https://www.googleapis.com/auth/admin.directory.user
2. https://www.googleapis.com/auth/admin.directory.group
3. https://www.googleapis.com/auth/admin.directory.orgunit
4. https://www.googleapis.com/auth/admin.directory.domain.readonly  ‚Üê –î–û–ë–ê–í–õ–ï–ù
5. https://www.googleapis.com/auth/calendar
```

## üöÄ –°—Ç–∞—Ç—É—Å –ø—Ä–æ–µ–∫—Ç–∞

**‚úÖ –ü–†–û–ë–õ–ï–ú–´ –†–ï–®–ï–ù–´:**
- ‚ùå –û—à–∏–±–∫–∞ 403 –ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ –¥–æ–º–µ–Ω–æ–≤ - –ò–°–ü–†–ê–í–õ–ï–ù–ê
- ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (176) - –ü–û–î–¢–í–ï–†–ñ–î–ï–ù–ê
- ‚úÖ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è kirill.kropochev@sputnik8.com - –†–ê–ë–û–¢–ê–ï–¢
- ‚úÖ OAuth 2.0 –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è - –ö–û–†–†–ï–ö–¢–ù–û –ù–ê–°–¢–†–û–ï–ù–ê

**üéâ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≥–æ—Ç–æ–≤–æ –∫ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–º—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!**

## üîÑ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–ï—Å–ª–∏ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏:
1. **–ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ –¥–æ–º–µ–Ω–∞–º:** –∑–∞–º–µ–Ω–∏—Ç—å `admin.directory.domain.readonly` –Ω–∞ `admin.directory.domain` (–¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¥–æ–º–µ–Ω–æ–≤)
2. **–ó–∞–≥—Ä—É–∑–∫–∞ –≥—Ä—É–ø–ø:** –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∏ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∑–∞–≥—Ä—É–∑–∫—É –≥—Ä—É–ø–ø –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º
3. **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ:** –¥–æ–±–∞–≤–∏—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

---
**–î–∞—Ç–∞:** 11 –∏—é–ª—è 2025  
**–í–µ—Ä—Å–∏—è:** Admin Team Tools v2.0.7  
**–ê–≤—Ç–æ—Ä –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:** GitHub Copilot
