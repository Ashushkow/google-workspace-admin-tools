#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
–ò—Ç–æ–≥–æ–≤—ã–π —Ç–µ—Å—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ –≤—Ä–µ–º–µ–Ω–∏ –æ—Ç–∫–ª–∏–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –≥—Ä—É–ø–ø–∞—Ö
"""

import sys
import os
import asyncio
import tracemalloc
from pathlib import Path

# –í–∫–ª—é—á–∞–µ–º tracemalloc –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
tracemalloc.start()

# –î–æ–±–∞–≤–ª—è–µ–º src –≤ Python path
sys.path.insert(0, str(Path(__file__).parent / 'src'))

import logging
logger = logging.getLogger(__name__)


async def test_complete_functionality():
    """–¢–µ—Å—Ç–∏—Ä—É–µ—Ç –ø–æ–ª–Ω—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å —Å –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–µ–π"""
    
    print("üîß –ò–¢–û–ì–û–í–´–ô –¢–ï–°–¢ –§–£–ù–ö–¶–ò–û–ù–ê–õ–¨–ù–û–°–¢–ò –í–ï–†–ò–§–ò–ö–ê–¶–ò–ò")
    print("=" * 80)
    
    # –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
    test_group_email = "test-group@example.com"
    test_member_email = "test-member@example.com"
    
    print(f"üìß –¢–µ—Å—Ç–æ–≤–∞—è –≥—Ä—É–ø–ø–∞: {test_group_email}")
    print(f"üë§ –¢–µ—Å—Ç–æ–≤—ã–π —É—á–∞—Å—Ç–Ω–∏–∫: {test_member_email}")
    
    try:
        # –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º –ø–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—É—Ç–∏
        from src.utils.group_verification import GroupChangeVerifier, GroupOperationMonitor
        from src.api.google_api_client import GoogleAPIClient
        from src.config.enhanced_config import config
        
        # –¢–µ—Å—Ç 1: –°–æ–∑–¥–∞–Ω–∏–µ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
        print("\nüß™ –¢–µ—Å—Ç 1: –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —Å–∏—Å—Ç–µ–º—ã")
        
        # Google API –∫–ª–∏–µ–Ω—Ç
        api_client = GoogleAPIClient(config.settings.google_application_credentials)
        print("‚úÖ Google API –∫–ª–∏–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω")
        
        # –í–µ—Ä–∏—Ñ–∏–∫–∞—Ç–æ—Ä
        verifier = GroupChangeVerifier(api_client)
        print("‚úÖ –í–µ—Ä–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å–æ–∑–¥–∞–Ω")
        
        # –ú–æ–Ω–∏—Ç–æ—Ä –æ–ø–µ—Ä–∞—Ü–∏–π
        monitor = GroupOperationMonitor()
        print("‚úÖ –ú–æ–Ω–∏—Ç–æ—Ä –æ–ø–µ—Ä–∞—Ü–∏–π —Å–æ–∑–¥–∞–Ω")
        
        # –¢–µ—Å—Ç 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–µ—Ç–æ–¥–æ–≤ API –∫–ª–∏–µ–Ω—Ç–∞
        print("\nüß™ –¢–µ—Å—Ç 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–µ—Ç–æ–¥–æ–≤ Google API –∫–ª–∏–µ–Ω—Ç–∞")
        
        methods_to_check = [
            'add_group_member',
            'remove_group_member', 
            'get_group_members'
        ]
        
        for method in methods_to_check:
            has_method = hasattr(api_client, method)
            status = "‚úÖ –ï—Å—Ç—å" if has_method else "‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç"
            print(f"üìä –ú–µ—Ç–æ–¥ {method}: {status}")
        
        # –¢–µ—Å—Ç 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞
        print("\nüß™ –¢–µ—Å—Ç 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–µ—Ç–æ–¥–æ–≤ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞")
        
        verifier_methods = [
            'verify_member_removal',
            'verify_member_addition',
            'get_propagation_status'
        ]
        
        for method in verifier_methods:
            has_method = hasattr(verifier, method)
            status = "‚úÖ –ï—Å—Ç—å" if has_method else "‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç"
            print(f"üìä –ú–µ—Ç–æ–¥ {method}: {status}")
        
        # –¢–µ—Å—Ç 4: –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–æ–Ω–∏—Ç–æ—Ä–∞
        print("\nüß™ –¢–µ—Å—Ç 4: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ—É–Ω–∫—Ü–∏–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞")
        
        import time
        
        # –¢–µ—Å—Ç–∏—Ä—É–µ–º –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤—Ä–µ–º–µ–Ω–∏
        with monitor.time_operation("test_operation", test_group_email, test_member_email):
            time.sleep(0.1)  # –ò–º–∏—Ç–∏—Ä—É–µ–º –æ–ø–µ—Ä–∞—Ü–∏—é
        
        # –ü–æ–ª—É—á–∞–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
        stats = monitor.get_average_times()
        recent = monitor.get_recent_operations(5)
        
        print(f"‚úÖ –û–ø–µ—Ä–∞—Ü–∏—è –∏–∑–º–µ—Ä–µ–Ω–∞: {len(stats)} –∑–∞–ø–∏—Å–µ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏")
        print(f"‚úÖ –ü–æ—Å–ª–µ–¥–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏: {len(recent)} –∑–∞–ø–∏—Å–µ–π")
        
        if stats:
            for operation, data in stats.items():
                print(f"   üìä {operation}: {data['average']:.3f}—Å (—Å—Ä–µ–¥–Ω–µ–µ)")
        
        # –¢–µ—Å—Ç 5: –°–∏–º—É–ª—è—Ü–∏—è –ø–æ–ª–Ω–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞
        print("\nüß™ –¢–µ—Å—Ç 5: –°–∏–º—É–ª—è—Ü–∏—è –ø–æ–ª–Ω–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≥—Ä—É–ø–ø–∞–º–∏")
        
        print("üìù –ü—Ä–æ—Ü–µ—Å—Å —É–¥–∞–ª–µ–Ω–∏—è —É—á–∞—Å—Ç–Ω–∏–∫–∞ —Å –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–µ–π:")
        print("   1. ‚è±Ô∏è  –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤—Ä–µ–º–µ–Ω–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏")
        print("   2. üîÑ –í—ã–∑–æ–≤ Google Directory API")
        print("   3. üîç –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π")
        print("   4. ‚è≥ –ü–æ–≤—Ç–æ—Ä–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏")
        print("   5. üìä –°–±–æ—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏")
        
        # –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –æ–∂–∏–¥–∞–µ–º—ã–µ –≤—Ä–µ–º–µ–Ω–∞
        print(f"\n‚è±Ô∏è  –û–ñ–ò–î–ê–ï–ú–´–ï –í–†–ï–ú–ï–ù–ê –û–¢–ö–õ–ò–ö–ê:")
        print(f"   ‚Ä¢ API –≤—ã–∑–æ–≤: 0.5-2 —Å–µ–∫—É–Ω–¥—ã")
        print(f"   ‚Ä¢ –û—Ç—Ä–∞–∂–µ–Ω–∏–µ –≤ Admin Console: 5-30 —Å–µ–∫—É–Ω–¥")
        print(f"   ‚Ä¢ –ü–æ–ª–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è: 2-10 –º–∏–Ω—É—Ç")
        print(f"   ‚Ä¢ –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è (3 –ø–æ–ø—ã—Ç–∫–∏): –¥–æ 15 —Å–µ–∫—É–Ω–¥")
        
        return True
        
    except Exception as e:
        print(f"‚ùå –û—à–∏–±–∫–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è: {e}")
        logger.error(f"–û—à–∏–±–∫–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è: {e}", exc_info=True)
        return False


def create_final_report():
    """–°–æ–∑–¥–∞–µ—Ç –∏—Ç–æ–≥–æ–≤—ã–π –æ—Ç—á–µ—Ç –æ –≤–Ω–µ—Å–µ–Ω–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö"""
    
    print("\nüìã –ò–¢–û–ì–û–í–´–ô –û–¢–ß–ï–¢ –û –í–ù–ï–°–ï–ù–ù–´–• –ò–ó–ú–ï–ù–ï–ù–ò–Ø–•")
    print("=" * 80)
    
    print("üéØ –†–ï–®–ï–ù–ù–ê–Ø –ü–†–û–ë–õ–ï–ú–ê:")
    print("   –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –Ω–µ –∑–Ω–∞–ª–∏, –∫–∞–∫ –±—ã—Å—Ç—Ä–æ –æ—Ç—Ä–∞–∂–∞—é—Ç—Å—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –≥—Ä—É–ø–ø–∞—Ö Google")
    print("   –∏ –Ω—É–∂–Ω–∞ –±—ã–ª–∞ —Å–∏—Å—Ç–µ–º–∞ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ —É—Å–ø–µ—à–Ω–æ—Å—Ç–∏ –æ–ø–µ—Ä–∞—Ü–∏–π.")
    
    print("\n‚úÖ –î–û–ë–ê–í–õ–ï–ù–ù–ê–Ø –§–£–ù–ö–¶–ò–û–ù–ê–õ–¨–ù–û–°–¢–¨:")
    
    print("\n1. üîç –ú–û–î–£–õ–¨ –í–ï–†–ò–§–ò–ö–ê–¶–ò–ò –ò–ó–ú–ï–ù–ï–ù–ò–ô (group_verification.py):")
    print("   ‚Ä¢ GroupChangeVerifier - –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π")
    print("   ‚Ä¢ verify_member_removal() - –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è —É–¥–∞–ª–µ–Ω–∏—è —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤")
    print("   ‚Ä¢ verify_member_addition() - –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤")  
    print("   ‚Ä¢ get_propagation_status() - —Å—Ç–∞—Ç—É—Å —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π")
    print("   ‚Ä¢ –ü–æ–≤—Ç–æ—Ä–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏ —Å –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º–æ–π –∑–∞–¥–µ—Ä–∂–∫–æ–π")
    
    print("\n2. ‚è±Ô∏è  –ú–û–ù–ò–¢–û–†–ò–ù–ì –ü–†–û–ò–ó–í–û–î–ò–¢–ï–õ–¨–ù–û–°–¢–ò:")
    print("   ‚Ä¢ GroupOperationMonitor - –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –æ–ø–µ—Ä–∞—Ü–∏–π")
    print("   ‚Ä¢ time_operation() - –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä –¥–ª—è –∏–∑–º–µ—Ä–µ–Ω–∏–π")
    print("   ‚Ä¢ get_average_times() - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è")
    print("   ‚Ä¢ get_recent_operations() - –ø–æ—Å–ª–µ–¥–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏")
    print("   ‚Ä¢ –î–∞–Ω–Ω—ã–µ –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏")
    
    print("\n3. üîß –û–ë–ù–û–í–õ–ï–ù–ù–´–ï –ú–ï–¢–û–î–´ API:")
    print("   ‚Ä¢ add_group_member() - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –≤ –≥—Ä—É–ø–ø—ã")
    print("   ‚Ä¢ remove_group_member() - —É–¥–∞–ª–µ–Ω–∏–µ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –∏–∑ –≥—Ä—É–ø–ø")
    print("   ‚Ä¢ get_group_members() - –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤")
    print("   ‚Ä¢ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ HTTP –æ—à–∏–±–æ–∫ (404, 409)")
    print("   ‚Ä¢ –ü–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–π")
    
    print("\n4. üéõÔ∏è  –£–õ–£–ß–®–ï–ù–ù–´–ï –°–ï–†–í–ò–°–´:")
    print("   ‚Ä¢ –ü–∞—Ä–∞–º–µ—Ç—Ä verify=True –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏")
    print("   ‚Ä¢ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –≤ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É")
    print("   ‚Ä¢ –†–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–µ –∞—É–¥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏")
    print("   ‚Ä¢ –ù–æ–≤—ã–µ –º–µ—Ç–æ–¥—ã –ø–æ–ª—É—á–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏")
    
    print("\nüìä –í–†–ï–ú–Ø –û–¢–†–ê–ñ–ï–ù–ò–Ø –ò–ó–ú–ï–ù–ï–ù–ò–ô:")
    print("   ‚Ä¢ –ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ (0-30 —Å–µ–∫): –î–æ–±–∞–≤–ª–µ–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤")
    print("   ‚Ä¢ –î–æ 2-10 –º–∏–Ω—É—Ç: Gmail, Drive, Calendar")
    print("   ‚Ä¢ –î–æ 24 —á–∞—Å–æ–≤: –í–Ω–µ—à–Ω–∏–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –∏ SSO")
    
    print("\nüí° –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò –ü–û –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Æ:")
    print("   ‚Ä¢ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ verify=True –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π")
    print("   ‚Ä¢ –ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏")
    print("   ‚Ä¢ –ü—Ä–∏ –º–∞—Å—Å–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏—è—Ö –¥–æ–±–∞–≤–ª—è–π—Ç–µ –∑–∞–¥–µ—Ä–∂–∫–∏ –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏")
    print("   ‚Ä¢ –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –∫–≤–æ—Ç—ã Google API –ø—Ä–∏ –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏")
    
    print("\nüîß –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø:")
    print("   ‚Ä¢ –ú–∞–∫—Å–∏–º—É–º 3 –ø–æ–ø—ã—Ç–∫–∏ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é")
    print("   ‚Ä¢ –ó–∞–¥–µ—Ä–∂–∫–∞ 5 —Å–µ–∫—É–Ω–¥ –º–µ–∂–¥—É –ø–æ–ø—ã—Ç–∫–∞–º–∏")
    print("   ‚Ä¢ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π")
    print("   ‚Ä¢ –°–±–æ—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏")


def main():
    """–ì–ª–∞–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –∏—Ç–æ–≥–æ–≤–æ–≥–æ —Ç–µ—Å—Ç–∞"""
    
    print("üöÄ –ò–¢–û–ì–û–í–´–ô –¢–ï–°–¢ –§–£–ù–ö–¶–ò–û–ù–ê–õ–¨–ù–û–°–¢–ò –í–ï–†–ò–§–ò–ö–ê–¶–ò–ò –í–†–ï–ú–ï–ù–ò –û–¢–ö–õ–ò–ö–ê")
    print("=" * 80)
    
    # –ó–∞–ø—É—Å–∫–∞–µ–º —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã
    try:
        success = asyncio.run(test_complete_functionality())
        
        if success:
            print("\n‚úÖ –í–°–ï –¢–ï–°–¢–´ –ü–†–û–ô–î–ï–ù–´ –£–°–ü–ï–®–ù–û!")
        else:
            print("\n‚ùå –ù–ï–ö–û–¢–û–†–´–ï –¢–ï–°–¢–´ –ù–ï –ü–†–û–ô–î–ï–ù–´")
            
    except Exception as e:
        print(f"‚ùå –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞: {e}")
    
    # –°–æ–∑–¥–∞–µ–º –∏—Ç–æ–≥–æ–≤—ã–π –æ—Ç—á–µ—Ç
    create_final_report()
    
    print("\n" + "=" * 80)
    print("üéâ –§–£–ù–ö–¶–ò–û–ù–ê–õ–¨–ù–û–°–¢–¨ –í–ï–†–ò–§–ò–ö–ê–¶–ò–ò –í–†–ï–ú–ï–ù–ò –û–¢–ö–õ–ò–ö–ê –ü–û–õ–ù–û–°–¢–¨–Æ –†–ï–ê–õ–ò–ó–û–í–ê–ù–ê!")
    print("=" * 80)


if __name__ == "__main__":
    main()
